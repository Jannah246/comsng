"use strict";(self.webpackChunkserachngo=self.webpackChunkserachngo||[]).push([[5722],{5722:(e,s,l)=>{l.r(s),l.d(s,{default:()=>P});var a=l(5043),d=l(1072),c=l(8602),i=l(8628),t=l(9062),o=l(615),n=l(4621),r=l(5328),m=l(5284),h=l(4282),v=l(5475),x=l(4858),u=l(3104),j=l(5724),N=l(9628),p=l(9456),b=l(9076),f=l(9165),g=l(7211),_=(l(5989),l(8786)),w=l(3919),A=l(3727),C=l(579);const S=function(e){let{_USER:s,handleEditClick:l,data:a,handleStatus:d,handleDelete:c,handleView:i}=e;const n=[{name:"Admin Name",selector:e=>[e.client_id],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:(0,A.bP)(s.clientAdministrator,e.client_id)[0].label})})})},{name:"Device Name",selector:e=>[e.device_name],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_name?e.device_name:"-"})})})},{name:"Device Model",selector:e=>[e.device_model],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_model?e.device_model:"-"})})})},{name:"Device Mac Address",selector:e=>[e.device_mac_address],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_mac_address?e.device_mac_address:"-"})})})},{name:"Pos Device Code",selector:e=>[e.pos_device_code],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.pos_device_code?e.pos_device_code:"-"})})})},{name:"Is Used",selector:e=>[e.is_used],sortable:!0,cell:e=>(0,C.jsx)("span",{className:`text-${"0"===e.is_used.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,A.Cm)(e.is_used.toString())})},{name:"STATUS",selector:e=>[e.status],sortable:!0,cell:e=>(0,C.jsxs)("label",{className:"custom-switch",children:[(0,C.jsx)("input",{type:"checkbox",className:"custom-switch-input",id:"status",checked:1===Number(e.status),onChange:s=>d(e,s.target.checked)}),(0,C.jsx)("span",{className:"custom-switch-indicator"})]})},{name:"ACTION",selector:e=>[e.action],sortable:!0,cell:e=>(0,C.jsxs)("span",{className:"",children:[(0,C.jsx)(t.A,{placement:"top",overlay:(0,C.jsx)(o.A,{children:"View"}),children:(0,C.jsxs)(v.N_,{to:"#",onClick:()=>i(e),className:"btn btn-info btn-sm rounded-11 me-2",children:[" ",(0,C.jsxs)("i",{children:[" ",(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",children:[(0,C.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,C.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})," "]})," "]})}),(0,C.jsx)(t.A,{placement:"top",overlay:(0,C.jsx)(o.A,{children:"Delete"}),children:(0,C.jsx)(v.N_,{to:"#",onClick:()=>c(e),className:"btn btn-danger btn-sm rounded-11",children:(0,C.jsx)("i",{children:(0,C.jsxs)("svg",{className:"table-delete",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"16",children:[(0,C.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,C.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"})]})})})})]})}],r={columns:n,data:a};return(0,C.jsx)(w.A,{...r,children:(0,C.jsx)(_.Ay,{columns:n,data:a,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})})};const y=function(e){let{_USER:s,data:l,reActiveDeleted:a,handleView:d}=e;const c=[{name:"Admin Name",selector:e=>[e.client_id],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:(0,A.bP)(s.clientAdministrator,e.client_id)[0].label})})})},{name:"Device Name",selector:e=>[e.device_name],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsxs)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:["q",(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_name?e.device_name:"-"})]})})},{name:"Device Model",selector:e=>[e.device_model],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_model?e.device_model:"-"})})})},{name:"Device Mac Address",selector:e=>[e.device_mac_address],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_mac_address?e.device_mac_address:"-"})})})},{name:"Pos Device Code",selector:e=>[e.pos_device_code],sortable:!0,cell:e=>(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,C.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.pos_device_code?e.pos_device_code:"-"})})})},{name:"Is Used",selector:e=>[e.is_used],sortable:!0,cell:e=>(0,C.jsx)("span",{className:`text-${"0"===e.is_used?"green":"red"} fs-15 fw-semibold`,children:(0,A.Cm)(e.is_used)})},{name:"STATUS",selector:e=>[e.status],sortable:!0,cell:e=>(0,C.jsxs)("label",{className:"custom-switch",children:[(0,C.jsx)("input",{type:"checkbox",className:"custom-switch-input",id:"status",checked:1===Number(e.status),onChange:s=>a(e,s.target.checked)}),(0,C.jsx)("span",{className:"custom-switch-indicator"})]})},{name:"ACTION",selector:e=>[e.action],sortable:!0,cell:e=>(0,C.jsx)("span",{className:"",children:(0,C.jsx)(t.A,{placement:"top",overlay:(0,C.jsx)(o.A,{children:"View"}),children:(0,C.jsxs)(v.N_,{to:"#",onClick:()=>d(e),className:"btn btn-info btn-sm rounded-11 me-2",children:[" ",(0,C.jsxs)("i",{children:[(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",children:[(0,C.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,C.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})," "]})]})})})}],i={columns:c,data:l};return(0,C.jsx)(w.A,{...i,children:(0,C.jsx)(_.Ay,{columns:c,data:l,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})})};const k=function(e){const{show:s,handleCloseModal:l,data:a}=e;return(0,C.jsxs)(m.A,{size:"xl",show:s,children:[(0,C.jsxs)(m.A.Header,{children:[(0,C.jsx)("div",{className:"modal-title h4 mb-0",children:"POS Device Code Information"}),(0,C.jsx)(h.A,{onClick:l,className:"btn-close",variant:"",children:(0,C.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,C.jsx)(m.A.Body,{className:"p-5",children:(0,C.jsx)("div",{className:"mb-6 productdesc",children:(0,C.jsxs)("ul",{className:"list-unstyled mb-0",children:[(0,C.jsxs)("li",{className:"row",children:[(0,C.jsx)("div",{className:"text-muted  col-xl-3 col-lg-4 col-sm-3",children:"ID"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:null!==a&&void 0!==a&&a.id?null===a||void 0===a?void 0:a.id:"-"})]}),(0,C.jsxs)("li",{className:"row p-b-20",children:[(0,C.jsx)("div",{className:"text-muted col-xl-3 col-lg-4 col-sm-3",children:"Pos Device Code"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:null!==a&&void 0!==a&&a.pos_device_code?null===a||void 0===a?void 0:a.pos_device_code:"-"})]}),(0,C.jsxs)("li",{className:"row p-b-20",children:[(0,C.jsx)("div",{className:"text-muted col-xl-3 col-lg-4 col-sm-3",children:"Used"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:(0,C.jsx)("span",{className:`text-${"0"===(null===a||void 0===a?void 0:a.is_used.toString())?"green":"red"} fs-15 fw-semibold`,children:(0,A.Cm)(null===a||void 0===a?void 0:a.is_used.toString())})})]}),(null===a||void 0===a?void 0:a.status)&&(0,C.jsxs)("li",{className:"row p-b-20",children:[(0,C.jsx)("div",{className:"text-muted col-xl-3 col-lg-4 col-sm-3",children:" Status"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:(0,C.jsx)("span",{className:`text-${"1"===(null===a||void 0===a?void 0:a.status.toString())?"green":"red"} fs-15 fw-semibold`,children:(0,A.dq)(null===a||void 0===a?void 0:a.status.toString())})})]}),(null===a||void 0===a?void 0:a.createdAt)&&(0,C.jsxs)("li",{className:"row p-b-20",children:[(0,C.jsx)("div",{className:"text-muted col-xl-3 col-lg-4 col-sm-3",children:" Created At"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:null===a||void 0===a?void 0:a.createdAt})]}),(null===a||void 0===a?void 0:a.updatedAt)&&(0,C.jsxs)("li",{className:"row p-b-20",children:[(0,C.jsx)("div",{className:"text-muted col-xl-3 col-lg-4 col-sm-3",children:" Updated At"}),(0,C.jsx)("div",{className:"col-xl-3 col-lg-8 col-sm-3",children:null===a||void 0===a?void 0:a.updatedAt})]})]})})})]})};function P(){const[e,s]=(0,a.useState)(!1),[l,_]=(0,a.useState)([]),[w,A]=(0,a.useState)([]),[P,D]=(0,a.useState)(!1),[O,T]=(0,a.useState)(""),[I,R]=(0,a.useState)([]),[$,H]=(0,a.useState)([]),[G,B]=(0,a.useState)(!1),U=(0,p.d4)((e=>null===e||void 0===e?void 0:e.common)),M=(0,u.A)(),{handleSubmit:L,reset:V}=(0,x.mN)({defaultValues:{},shouldUnregister:!0,mode:"onChange"});(0,a.useEffect)((()=>{var e;null!==U&&void 0!==U&&null!==(e=U.role)&&void 0!==e&&e.length&&(E(),z())}),[null===U||void 0===U?void 0:U.role]);const E=async()=>{const{data:e,error:s}=await M.get(`${j.pc}/api/${b.G_[null===U||void 0===U?void 0:U.role]}/pos-device-code`);e?_(e.data.list):N.oR.error(s,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})},z=async()=>{const{data:e,error:s}=await M.get(`${j.pc}/${b.G_[null===U||void 0===U?void 0:U.role]}/api/pos-device-code?status=0`);var l;e?R(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.list):N.oR.error(s,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})},F=e=>{A(e),e&&V(e),s(!0)},K=()=>{s(!1),D(!1),T(""),H([]),B(!1)},q=(e,s)=>{A({...w,[e]:s.value})},W=async e=>{(async e=>{const{data:s,error:l}=await M.get(`${j.pc}/api/${b.G_[null===U||void 0===U?void 0:U.role]}/pos-device-code/${e}`);var a;s?(H(null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.list),B(!0)):N.oR.error(l,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})})(e.id)};return(0,C.jsxs)("div",{children:[(0,C.jsx)(d.A,{children:(0,C.jsx)(c.A,{sm:12,className:"col-12",children:(0,C.jsxs)(i.A,{className:"mt-5",children:[(0,C.jsxs)(i.A.Header,{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("h3",{className:"card-title mb-0",children:"POS Device Code"}),(0,C.jsx)(t.A,{placement:"top",overlay:(0,C.jsx)(o.A,{children:"Add"}),children:(0,C.jsxs)(v.N_,{onClick:()=>F(),to:"#",className:"btn btn-primary btn-icon text-white me-3",children:[(0,C.jsxs)("span",{children:[(0,C.jsx)("i",{className:"fe fe-plus"}),"\xa0"]}),"Add Code"]})})]}),(0,C.jsx)(i.A.Body,{children:(0,C.jsx)("div",{className:"panel panel-primary",children:(0,C.jsx)("div",{className:" tab-menu-heading border",children:(0,C.jsx)("div",{className:"tabs-menu1 tabstyle2",children:(0,C.jsxs)(n.A,{className:" panel-tabs ",variant:"pills",defaultActiveKey:"ActivePosDeviceList",onClick:e=>(e=>{"ActivePosDeviceList"===e.target.dataset.rrUiEventKey?E():"DeletePosDeviceList"===e.target.dataset.rrUiEventKey&&z()})(e),children:[(0,C.jsx)(r.A,{eventKey:"ActivePosDeviceList",className:"me-1 ",title:"Active POS Device Code List",children:(0,C.jsx)("div",{className:"salesdatatable",children:(0,C.jsx)("div",{className:"table-responsive",children:0!==(null===U||void 0===U?void 0:U.clientAdministrator.length)&&(0,C.jsx)(S,{data:l,handleEditClick:e=>F(e),handleStatus:(e,l)=>(async(e,l)=>{const{data:a}=await M.post(`${j.pc}/api/${b.G_[null===U||void 0===U?void 0:U.role]}/pos-device-code/status-update/${e.id}`,{status:!1===l?"2":"1"});a&&(N.oR.success(a.message?a.message:a.messages,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),s(!1),A([]),E())})(e,l),handleDelete:e=>(e=>{T(e.id),D(!0)})(e),_USER:U,handleView:e=>W(e)})})})}),(0,C.jsx)(r.A,{eventKey:"DeletePosDeviceList",className:"me-1 ",title:"Deleted POS Device Code List",children:(0,C.jsx)("div",{className:"salesdatatable",children:(0,C.jsx)("div",{className:"table-responsive",children:0!==(null===U||void 0===U?void 0:U.clientAdministrator.length)&&(0,C.jsx)(y,{data:I,reActiveDeleted:(e,s)=>(async(e,s)=>{const{data:l}=await M.post(`${j.pc}/${b.G_[null===U||void 0===U?void 0:U.role]}/api/pos-device-code/status-update/${e.id}`,{status:!1===s?"2":"1",updated_at:new Date});l&&(N.oR.success(null!==l&&void 0!==l&&l.message?null===l||void 0===l?void 0:l.message:null===l||void 0===l?void 0:l.messages,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),z())})(e,s),_USER:U,handleView:e=>W(e)})})})})]})})})})})]})})}),e&&(0,C.jsx)(m.A,{size:"xl",show:e,children:(0,C.jsxs)("form",{id:"form",onSubmit:L((async()=>{let e={...w};const{data:l}=await M.post(`${j.pc}/api/${b.G_[null===U||void 0===U?void 0:U.role]}/pos-device-code`,e);l&&(N.oR.success(l.message?l.message:l.messages,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),s(!1),A([]),E())})),validated:!0,children:[(0,C.jsxs)(m.A.Header,{children:[(0,C.jsx)("div",{className:"modal-title h4 mb-0",children:"Add Client ID"}),(0,C.jsx)(h.A,{onClick:K,className:"btn-close",variant:"",children:(0,C.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,C.jsx)(m.A.Body,{className:"p-5",children:(0,C.jsx)("div",{className:"mb-6",children:(0,C.jsxs)(d.A,{className:"mb-2",children:[(0,C.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,C.jsx)("label",{htmlFor:"client_id",className:"form-label",children:"Client"}),(0,C.jsx)(f.Ay,{id:"Client",placeholder:"select Client",onChange:e=>q("client_id",e),singleSelect:"true",options:null===U||void 0===U?void 0:U.clientAdministrator,required:!0})]}),(0,C.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,C.jsx)("label",{htmlFor:"no_of_code",className:"form-label",children:"No of codes"}),(0,C.jsx)("input",{className:"form-control",type:"text",id:"no_of_code",placeholder:"Enter No of codes",name:"no_of_code",onChange:e=>q("no_of_code",e.target)})]})]})})}),(0,C.jsxs)(m.A.Footer,{children:[(0,C.jsx)(h.A,{type:"button",variant:"secondary",onClick:K,children:"Close"}),(0,C.jsx)(h.A,{type:"submit",variant:"primary",children:"Save"})]})]})}),P&&(0,C.jsx)(g.A,{show:P,confirmDelete:()=>(async e=>{const{data:s}=await M.post(`${j.pc}/${b.G_[null===U||void 0===U?void 0:U.role]}/api/pos-device-code/status-update/${e}`,{status:0,deleted_at:new Date});s&&(N.oR.success(s.message?s.message:s.messages,{position:N.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),D(!1),T(""),E())})(O),handleCloseModal:()=>K()}),G&&(0,C.jsx)(k,{show:G,data:$,handleCloseModal:()=>K()})]})}}}]);
//# sourceMappingURL=5722.d9e368bd.chunk.js.map