"use strict";(self.webpackChunkserachngo=self.webpackChunkserachngo||[]).push([[5726],{5726:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var a=l(5043),i=l(1072),c=l(8602),o=l(8628),d=l(9062),t=l(615),r=l(4621),n=l(5328),m=l(5284),v=l(4282),h=l(3104),u=l(5724),p=l(9628),x=l(9456),j=l(9076),N=(l(5989),l(8786)),g=l(3919),_=l(3727),b=l(579);const f=function(e){let{data:s,handleStatus:l}=e;const a=[{name:"Device Name",selector:e=>[e.device_name],sortable:!0,cell:e=>(0,b.jsx)("div",{className:"d-flex",children:(0,b.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,b.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_name?e.device_name:"-"})})})},{name:"Device Model",selector:e=>[e.device_model],sortable:!0,cell:e=>(0,b.jsx)("div",{className:"d-flex",children:(0,b.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,b.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_model?e.device_model:"-"})})})},{name:"Device Mac Address",selector:e=>[e.device_mac_address],sortable:!0,cell:e=>(0,b.jsx)("div",{className:"d-flex",children:(0,b.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,b.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_mac_address?e.device_mac_address:"-"})})})},{name:"Pos Device Code",selector:e=>[e.pos_device_code],sortable:!0,cell:e=>(0,b.jsx)("div",{className:"d-flex",children:(0,b.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,b.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.pos_device_code?e.pos_device_code:"-"})})})},{name:"Is Used",selector:e=>[e.is_used],sortable:!0,cell:e=>(0,b.jsx)("span",{className:`text-${"0"===e.is_used.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,_.Cm)(e.is_used.toString())})},{name:"STATUS",selector:e=>[e.status],sortable:!0,cell:e=>(0,b.jsx)("span",{className:`text-${"1"===e.status.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,_.dq)(e.status.toString())})},{name:"CODE STATUS",selector:e=>[e.code_status],sortable:!0,cell:e=>(0,b.jsxs)("label",{className:"custom-switch",children:[(0,b.jsx)("input",{type:"checkbox",className:"custom-switch-input",id:"status",checked:1===Number(e.code_status),onChange:s=>l(e,s.target.checked)}),(0,b.jsx)("span",{className:"custom-switch-indicator"})]})}],i={columns:a,data:s};return(0,b.jsx)(g.A,{...i,children:(0,b.jsx)(N.Ay,{columns:a,data:s,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})})};var S=l(9165),A=l(5475),C=l(4858);function y(){const[e,s]=(0,a.useState)([]),l=(0,x.d4)((e=>null===e||void 0===e?void 0:e.common)),N=(0,h.A)(),[g,_]=(0,a.useState)(!1),[y,P]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),[T,k]=(0,a.useState)(l.POSModal),[w,D]=(0,a.useState)([]),[R,G]=(0,a.useState)(""),[M,H]=(0,a.useState)(""),[$,F]=(0,a.useState)([]),[q,B]=(0,a.useState)(!1);(0,a.useEffect)((()=>{var e;null!==l&&void 0!==l&&null!==(e=l.role)&&void 0!==e&&e.length&&U()}),[null===l||void 0===l?void 0:l.role]);const{handleSubmit:E}=(0,C.mN)({defaultValues:{},shouldUnregister:!0,mode:"onChange"}),L=(0,x.wA)(),U=async()=>{const{data:e,error:a}=await N.get(`${u.pc}/api/${j.G_[null===l||void 0===l?void 0:l.role]}/pos-device-code`);if(e){s(e.data.list);let l=[];for(let s=0;s<(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(c=i.list)||void 0===c?void 0:c.length);s++){var i,c,o,d,t,r;let a={value:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(d=o.list[s])||void 0===d?void 0:d.pos_device_code,label:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.list[s])||void 0===r?void 0:r.device_name};l.push(a)}D(l)}else p.oR.error(a,{position:p.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})},z=()=>{_(!1),B(!1)},K=(e,s)=>{F({...$,[e]:s})};return(0,b.jsxs)("div",{children:[(0,b.jsx)(i.A,{children:(0,b.jsx)(c.A,{sm:12,className:"col-12",children:(0,b.jsxs)(o.A,{className:"mt-5",children:[(0,b.jsxs)(o.A.Header,{className:"d-flex align-items-center justify-content-between",children:[(0,b.jsx)("h3",{className:"card-title mb-0",children:"POS Device Code"}),(0,b.jsx)(d.A,{placement:"top",overlay:(0,b.jsx)(t.A,{children:"Active"}),children:(0,b.jsxs)(A.N_,{onClick:()=>{B(!0)},to:"#",className:"btn btn-primary btn-icon text-white me-3",children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"fe fe-plus"}),"\xa0"]}),"Active"]})})]}),(0,b.jsx)(o.A.Body,{children:(0,b.jsx)("div",{className:"panel panel-primary",children:(0,b.jsx)("div",{className:" tab-menu-heading border",children:(0,b.jsx)("div",{className:"tabs-menu1 tabstyle2",children:(0,b.jsx)(r.A,{className:" panel-tabs ",variant:"pills",defaultActiveKey:"ActivePosDeviceList",children:(0,b.jsx)(n.A,{eventKey:"ActivePosDeviceList",className:"me-1 ",title:"Active List",children:(0,b.jsx)("div",{className:"salesdatatable",children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)(f,{data:e,handleStatus:(e,s)=>(async e=>{var s;const a={pos_device_code:e.pos_device_code};let i;var c,o,d;i=await N.post(`${u.pc}/api/${j.G_[null===l||void 0===l?void 0:l.role]}/pos-device-code/deactivation`,a),null!==(s=i)&&void 0!==s&&s.data&&(p.oR.success(null!==(c=i)&&void 0!==c&&c.data.message?null===(o=i)||void 0===o?void 0:o.data.message:null===(d=i)||void 0===d?void 0:d.data.messages,{position:p.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),U())})(e),HandleAssignCamp:e=>{L({type:"ASSIGNPOS",payload:!0}),I(e)}})})})})})})})})})]})})}),l.CampModal&&(0,b.jsxs)(m.A,{size:"xl",show:l.CampModal,children:[(0,b.jsxs)(m.A.Header,{children:[(0,b.jsx)("div",{className:"modal-title h4 mb-0",children:"Assign Camps"}),(0,b.jsx)(v.A,{onClick:()=>{L({type:"ASSIGNCAMP",payload:!1})},className:"btn-close",variant:"",children:(0,b.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,b.jsx)(m.A.Body,{className:"p-5",children:(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(i.A,{className:"mb-2",children:[(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"POS Device Code"}),(0,b.jsx)(S.Ay,{id:"client_ids",placeholder:"Select POS",onChange:e=>{I(e.value)},singleSelect:"true",options:w,isMulti:!1,required:!0})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"Camps"}),(0,b.jsx)(S.Ay,{id:"client_ids",placeholder:"Select Camps",onChange:e=>(e=>{if(e.length>1){let s=e.map((e=>e.value)).join(",");P(s)}else 1===e.length?P(e[0].value):P("")})(e),singleSelect:"true",options:null===l||void 0===l?void 0:l.campsList,isMulti:!0,required:!0})]})]})})}),(0,b.jsxs)(m.A.Footer,{children:[(0,b.jsx)(v.A,{type:"button",variant:"secondary",onClick:()=>{L({type:"ASSIGNCAMP",payload:!1})},children:"Close"}),(0,b.jsx)(v.A,{type:"submit",variant:"primary",onClick:async()=>{let e={};e.pos_device_code=O,e.camp_ids=y;const{data:s,error:a}=await N.post(`${u.pc}/api/${j.G_[null===l||void 0===l?void 0:l.role]}/pos-device-code/assign-camps`,e);var i,c;s?(z(),p.oR.success(s.message?s.message:s.messages,{position:null===(i=p.oR.PackageITION)||void 0===i?void 0:i.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})):p.oR.error(a,{position:null===(c=p.oR.PackageITION)||void 0===c?void 0:c.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},children:"Save"})]})]}),l.POSModal&&(0,b.jsxs)(m.A,{size:"xl",show:l.POSModal,children:[(0,b.jsxs)(m.A.Header,{children:[(0,b.jsx)("div",{className:"modal-title h4 mb-0",children:"Assign POS"}),(0,b.jsx)(v.A,{onClick:()=>{L({type:"ASSIGNPOS",payload:!1})},className:"btn-close",variant:"",children:(0,b.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,b.jsx)(m.A.Body,{className:"p-5",children:(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(i.A,{className:"mb-2",children:[(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{className:"form-label",children:" POS Device Codes"}),(0,b.jsx)(S.Ay,{id:"client_ids",placeholder:"Select POS Device Codes",onChange:e=>(e=>{if(e.length>1){let s=e.map((e=>e.value)).join(",");H(s)}else 1===e.length?H(e[0].value):H("")})(e),singleSelect:"true",options:w,isMulti:!0,required:!0})]}),(0,b.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{className:"form-label",children:" POS "}),(0,b.jsx)(S.Ay,{id:"client_ids",placeholder:"Select POS",onChange:e=>{G(e.value)},singleSelect:"true",options:null===l||void 0===l?void 0:l.posList,isMulti:!1,required:!0})]})]})})}),(0,b.jsxs)(m.A.Footer,{children:[(0,b.jsx)(v.A,{type:"button",variant:"secondary",onClick:()=>{L({type:"ASSIGNPOS",payload:!1})},children:"Close"}),(0,b.jsx)(v.A,{type:"submit",variant:"primary",onClick:async()=>{let e={};e.pos_device_codes=M,e.pos_id=R;const{data:s,error:a}=await N.post(`${u.pc}/api/${j.G_[null===l||void 0===l?void 0:l.role]}/pos-device-code/assign-pos`,e);var i,c;s?(z(),p.oR.success(s.message?s.message:s.messages,{position:null===(i=p.oR.PackageITION)||void 0===i?void 0:i.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})):p.oR.error(a,{position:null===(c=p.oR.PackageITION)||void 0===c?void 0:c.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},children:"Save"})]})]}),q&&(0,b.jsx)(m.A,{size:"xl",show:q,children:(0,b.jsxs)("form",{id:"form",onSubmit:E((async()=>{let e={...$};const{data:s}=await N.post(`${u.pc}/api/${j.G_[null===l||void 0===l?void 0:l.role]}/pos-device-code/activation`,e);s&&(p.oR.success(s.message?s.message:s.messages,{position:p.oR.POSITION.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"}),B(!1),U())})),validate:"true",children:[(0,b.jsxs)(m.A.Header,{children:[(0,b.jsx)("div",{className:"modal-title h4 mb-0",children:"POS Device Code Active"}),(0,b.jsx)(v.A,{onClick:z,className:"btn-close",variant:"",children:(0,b.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,b.jsxs)(m.A.Body,{className:"p-5",children:[(0,b.jsx)("h4",{className:"d-flex",children:"POS Device Code Information"}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(i.A,{className:"mb-6",children:[(0,b.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"Pos Device Code"}),(0,b.jsx)("input",{className:"form-control",type:"text",id:"pos_device_code",placeholder:"Enter POS Device Code",name:"pos_device_code",onChange:e=>K("pos_device_code",e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"device_name",className:"form-label",children:"Device Name"}),(0,b.jsx)("input",{className:"form-control",type:"text",id:"device_name",placeholder:"Enter Device Name",name:"device_name",onChange:e=>K("device_name",e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"device_model",className:"form-label",children:"Device Model"}),(0,b.jsx)("input",{className:"form-control",type:"text",id:"device_model",placeholder:"Enter Device Model",name:"device_model",onChange:e=>K("device_model",e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,b.jsx)("label",{htmlFor:"device_mac_address",className:"form-label",children:"Device Mac Address"}),(0,b.jsx)("input",{className:"form-control",type:"text",id:"device_mac_address",placeholder:"Enter Device Mac Address",name:"device_mac_address",onChange:e=>K("device_mac_address",e.target.value),required:!0})]})]})})]}),(0,b.jsxs)(m.A.Footer,{children:[(0,b.jsx)(v.A,{type:"button",variant:"secondary",onClick:z,children:"Close"}),(0,b.jsx)(v.A,{type:"submit",variant:"primary",children:"Save"})]})]})})]})}}}]);
//# sourceMappingURL=5726.4bf37b43.chunk.js.map