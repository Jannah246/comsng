"use strict";(self.webpackChunkserachngo=self.webpackChunkserachngo||[]).push([[8782],{8782:(e,a,n)=>{n.r(a),n.d(a,{default:()=>f});var s=n(5043),t=n(1072),l=n(8602),i=n(8628),o=n(9397),c=n(457),r=n(9062),d=n(615),m=n(4282),u=n(5284),h=n(3104),p=n(5724),v=n(9628),x=n(9456),y=n(9076),g=n(579);function f(){const[e,a]=(0,s.useState)(!1),[n,f]=(0,s.useState)([]),[j,N]=(0,s.useState)([]),[b,k]=(0,s.useState)([]),[A,_]=(0,s.useState)(""),[E,w]=(0,s.useState)(""),[C,I]=(0,s.useState)([]),O=(0,x.d4)((e=>null===e||void 0===e?void 0:e.common)),S=(0,h.A)();(0,s.useEffect)((()=>{var e;null!==O&&void 0!==O&&null!==(e=O.role)&&void 0!==e&&e.length&&(K(),M(),R())}),[null===O||void 0===O?void 0:O.role]),(0,s.useEffect)((()=>{T(b)}),[(null===b||void 0===b?void 0:b.length)>0]);let P=+window.location.pathname.split("/")[2];const R=async()=>{const{data:e,error:a}=await S.get(p.SD+"/"+P);e?0===Object.keys(e.data.list.package_items).length?K():N(e.data.list):v.oR.error(a,{position:v.oR.POSITION.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},K=async()=>{const{data:e,error:a}=await S.get(p.US+"/"+P);if(e){var n,s;let a=[];null===e||void 0===e||null===(n=e.data)||void 0===n||n.list.category.filter((e=>a.push({categoryInfo:e,data:[]}))),a.sort(((e,a)=>e.id>a.id?1:-1)),k(a);let t=[];null===e||void 0===e||null===(s=e.data)||void 0===s||s.list.category.filter((e=>t.push({category_id:e.id,day_1:"",day_2:"",day_3:"",day_4:"",day_5:"",day_6:"",day_7:""}))),console.log("Package",t),I(t)}else v.oR.error(a,{position:v.oR.POSITION.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},M=async()=>{const{data:e,error:a}=await S.get(p.d3);e?f(e.data.list):v.oR.error(a,{position:v.oR.POSITION.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},T=e=>{null!==y.i6&&void 0!==y.i6&&y.i6.package_items&&(Object.keys(null===y.i6||void 0===y.i6?void 0:y.i6.package_items).forEach((a=>{null===y.i6||void 0===y.i6||y.i6.package_items[a].push(...JSON.parse(JSON.stringify(e)))})),N(y.i6))},B=()=>{a(!1)};return(0,g.jsxs)("div",{children:[(0,g.jsx)(t.A,{children:(0,g.jsx)(l.A,{sm:12,className:"col-12",children:(0,g.jsxs)(i.A,{className:"mt-5",children:[(0,g.jsxs)(i.A.Header,{className:"d-flex align-items-center justify-content-between flex-wrap",children:[(0,g.jsx)("h3",{className:"card-title mb-0 w-100",children:"Add Combo Meal"}),(0,g.jsxs)(o.A,{className:"breadcrumb1",children:[(0,g.jsx)(o.A.Item,{className:"breadcrumb-item1 active",href:"/admin-kitchen-manger",children:"Meal Package"}),(0,g.jsx)(o.A.Item,{className:"breadcrumb-item1 text-muted",children:"Add Combo Meal"})]})]}),(0,g.jsx)(i.A.Body,{className:"defaultaccordion combomeal",children:(0,g.jsxs)("div",{className:"panel-group1",id:"accordion1",children:[console.log("comboData",j),Object.keys(j).length>0&&Object.keys(null===j||void 0===j?void 0:j.package_items).map(((e,n)=>{var s;return(0,g.jsx)("div",{className:"panel panel-default mb-4",children:(0,g.jsx)(c.A,{defaultActiveKey:e,children:(0,g.jsxs)(c.A.Item,{eventKey:e,children:[(0,g.jsx)(c.A.Header,{className:"panel-heading1 style2",children:(0,g.jsx)("h5",{className:"fw-semibold mb-0 tim-note",children:e})}),(0,g.jsx)(c.A.Body,{Collapse:"false",children:(0,g.jsx)(t.A,{children:null===j||void 0===j||null===(s=j.package_items[e])||void 0===s?void 0:s.map(((n,s)=>{var t;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"mb-5 col-lg-6 col-md-6 col-sm-12 ",children:(0,g.jsxs)("div",{className:"border p-0",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between bg-light-gray p-3",children:[(0,g.jsx)("h3",{className:"card-title mb-0",children:n.categoryInfo.category_name}),(0,g.jsx)(r.A,{placement:"top",overlay:(0,g.jsx)(d.A,{children:"Add"}),children:(0,g.jsxs)("a",{href:"javascript:void(0)",onClick:s=>((e,n,s)=>{a(!0),_(n),w(s.categoryInfo.category_name)})(0,e,n),className:"line btn-icon text-black",children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("i",{className:"fe fe-plus"}),"\xa0"]}),"Add Item"]})})]}),(0,g.jsx)(i.A.Body,{className:"p-0",children:n.data.length?(0,g.jsxs)("table",{className:"w-100",children:[(0,g.jsx)("thead",{className:"w-100",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2",children:" Image "}),(0,g.jsx)("th",{className:"p-2",children:" Name "}),(0,g.jsx)("th",{className:"p-2",children:" Type "})]})}),(0,g.jsx)("tbody",{className:"w-100",children:(0,g.jsx)(g.Fragment,{children:null===(t=n.data)||void 0===t?void 0:t.map(((e,a)=>(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{className:"p-2",width:"60px",children:[" ",(0,g.jsx)("img",{src:e.item_image_url,alt:"item"})]}),(0,g.jsxs)("td",{className:"p-2",children:[" ",e.item_name," "]}),(0,g.jsxs)("td",{className:"p-2",children:[" ",e.type," "]})]})))})})]}):(0,g.jsx)("p",{className:"p-5 text-center",children:"No Meal"})})]})},s)})}))})})]},n)})})})),(0,g.jsx)("div",{className:"righttab",children:(0,g.jsx)(m.A,{type:"button",variant:"primary",onClick:async()=>{Object.keys(null===j||void 0===j?void 0:j.package_items).forEach((function(e,a){Object.keys(null===j||void 0===j?void 0:j.package_items[e]).forEach((function(a,n){C.map(((n,s)=>{if(n.category_id===(null===j||void 0===j?void 0:j.package_items[e][a].categoryInfo.id)){let s=null===j||void 0===j?void 0:j.package_items[e][a].data.map(((e,a)=>(console.log("comboData?.package_items[key][keyname]",e),console.log("comboData?.package_items[key][item]==========",n.key),console.log("comboData?.package_items[key][item]",null===j||void 0===j?void 0:j.package_items.day_1),e.id)));n[e]=s.toString()}}))}))}));let e={meal_package_id:P,package:C};console.log("req==============",e)},children:"Save"})})]})})]})})}),e&&(0,g.jsx)(u.A,{size:"xl",show:e,children:(0,g.jsxs)("form",{id:"form",validate:"true",children:[(0,g.jsxs)(u.A.Header,{children:[(0,g.jsx)("div",{className:"modal-title h4 mb-0",children:"Select Meal Item"}),(0,g.jsx)(m.A,{onClick:B,className:"btn-close",variant:"",children:(0,g.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,g.jsx)(u.A.Body,{className:"p-5 combomeal_popup",children:(0,g.jsxs)(t.A,{children:[console.log("mealList",n),null===n||void 0===n?void 0:n.map(((e,a)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6",children:[(0,g.jsx)("input",{type:"checkbox",id:e.id,style:{display:"none"},onClick:a=>((e,a)=>{console.log("e",e.target.checked),Object.keys(null===j||void 0===j?void 0:j.package_items).forEach((function(e,n){if(e!==A)return null===j||void 0===j?void 0:j.package_items[e];Object.keys(null===j||void 0===j?void 0:j.package_items[e]).forEach((function(n,s){var t,l,i,o,c,r,d;return(null===j||void 0===j||null===(t=j.package_items[e][n])||void 0===t||null===(l=t.categoryInfo)||void 0===l?void 0:l.category_name)===E?0===(null===j||void 0===j||null===(i=j.package_items[e][n])||void 0===i?void 0:i.data.length)?null===j||void 0===j||null===(o=j.package_items[e][n])||void 0===o?void 0:o.data.push(a):(s=null===j||void 0===j||null===(c=j.package_items[e][n])||void 0===c?void 0:c.data.findIndex((e=>e.id===a.id)))>-1?null===j||void 0===j||null===(r=j.package_items[e][n])||void 0===r?void 0:r.data.splice(s,1):null===j||void 0===j||null===(d=j.package_items[e][n])||void 0===d?void 0:d.data.push(a):null===j||void 0===j?void 0:j.package_items[e][n]}))}))})(a,e)}),(0,g.jsx)("label",{htmlFor:e.id,className:"w-100 ",children:(0,g.jsxs)("div",{className:"thumbnail",children:[(0,g.jsx)("img",{src:e.item_image_url,alt:e.item_name,className:"thumbimg"}),(0,g.jsxs)("div",{className:"caption",children:[(0,g.jsx)("h4",{children:(0,g.jsxs)("strong",{children:[e.item_name," "]})}),(0,g.jsx)("p",{children:e.item_description})]})]})})]},a)})))]})}),(0,g.jsxs)(u.A.Footer,{children:[(0,g.jsx)(m.A,{type:"button",variant:"secondary",onClick:B,children:"Close"}),(0,g.jsx)(m.A,{type:"submit",variant:"primary",onClick:B,children:"Save"})]})]})})]})}},457:(e,a,n)=>{n.d(a,{A:()=>E});var s=n(8139),t=n.n(s),l=n(5043),i=n(7121),o=n(7852),c=n(2306);function r(e,a){return Array.isArray(e)?e.includes(a):e===a}const d=l.createContext({});d.displayName="AccordionContext";const m=d;var u=n(579);const h=l.forwardRef(((e,a)=>{let{as:n="div",bsPrefix:s,className:i,children:d,eventKey:h,...p}=e;const{activeEventKey:v}=(0,l.useContext)(m);return s=(0,o.oU)(s,"accordion-collapse"),(0,u.jsx)(c.A,{ref:a,in:r(v,h),...p,className:t()(i,s),children:(0,u.jsx)(n,{children:l.Children.only(d)})})}));h.displayName="AccordionCollapse";const p=h,v=l.createContext({eventKey:""});v.displayName="AccordionItemContext";const x=v,y=l.forwardRef(((e,a)=>{let{as:n="div",bsPrefix:s,className:i,onEnter:c,onEntering:r,onEntered:d,onExit:m,onExiting:h,onExited:v,...y}=e;s=(0,o.oU)(s,"accordion-body");const{eventKey:g}=(0,l.useContext)(x);return(0,u.jsx)(p,{eventKey:g,onEnter:c,onEntering:r,onEntered:d,onExit:m,onExiting:h,onExited:v,children:(0,u.jsx)(n,{ref:a,...y,className:t()(i,s)})})}));y.displayName="AccordionBody";const g=y;const f=l.forwardRef(((e,a)=>{let{as:n="button",bsPrefix:s,className:i,onClick:c,...d}=e;s=(0,o.oU)(s,"accordion-button");const{eventKey:h}=(0,l.useContext)(x),p=function(e,a){const{activeEventKey:n,onSelect:s,alwaysOpen:t}=(0,l.useContext)(m);return l=>{let i=e===n?null:e;t&&(i=Array.isArray(n)?n.includes(e)?n.filter((a=>a!==e)):[...n,e]:[e]),null==s||s(i,l),null==a||a(l)}}(h,c),{activeEventKey:v}=(0,l.useContext)(m);return"button"===n&&(d.type="button"),(0,u.jsx)(n,{ref:a,onClick:p,...d,"aria-expanded":Array.isArray(v)?v.includes(h):h===v,className:t()(i,s,!r(v,h)&&"collapsed")})}));f.displayName="AccordionButton";const j=f,N=l.forwardRef(((e,a)=>{let{as:n="h2",bsPrefix:s,className:l,children:i,onClick:c,...r}=e;return s=(0,o.oU)(s,"accordion-header"),(0,u.jsx)(n,{ref:a,...r,className:t()(l,s),children:(0,u.jsx)(j,{onClick:c,children:i})})}));N.displayName="AccordionHeader";const b=N,k=l.forwardRef(((e,a)=>{let{as:n="div",bsPrefix:s,className:i,eventKey:c,...r}=e;s=(0,o.oU)(s,"accordion-item");const d=(0,l.useMemo)((()=>({eventKey:c})),[c]);return(0,u.jsx)(x.Provider,{value:d,children:(0,u.jsx)(n,{ref:a,...r,className:t()(i,s)})})}));k.displayName="AccordionItem";const A=k,_=l.forwardRef(((e,a)=>{const{as:n="div",activeKey:s,bsPrefix:c,className:r,onSelect:d,flush:h,alwaysOpen:p,...v}=(0,i.Zw)(e,{activeKey:"onSelect"}),x=(0,o.oU)(c,"accordion"),y=(0,l.useMemo)((()=>({activeEventKey:s,onSelect:d,alwaysOpen:p})),[s,d,p]);return(0,u.jsx)(m.Provider,{value:y,children:(0,u.jsx)(n,{ref:a,...v,className:t()(r,x,h&&`${x}-flush`)})})}));_.displayName="Accordion";const E=Object.assign(_,{Button:j,Collapse:p,Item:A,Header:b,Body:g})},2306:(e,a,n)=>{n.d(a,{A:()=>x});var s=n(8139),t=n.n(s),l=n(8747),i=n(5043),o=n(6555),c=n(3492);const r=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return a.filter((e=>null!=e)).reduce(((e,a)=>{if("function"!==typeof a)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?a:function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];e.apply(this,s),a.apply(this,s)}}),null)};var d=n(2643),m=n(4910),u=n(579);const h={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function p(e,a){const n=a[`offset${e[0].toUpperCase()}${e.slice(1)}`],s=h[e];return n+parseInt((0,l.A)(a,s[0]),10)+parseInt((0,l.A)(a,s[1]),10)}const v={[o.kp]:"collapse",[o.ze]:"collapsing",[o.ns]:"collapsing",[o._K]:"collapse show"},x=i.forwardRef(((e,a)=>{let{onEnter:n,onEntering:s,onEntered:l,onExit:o,onExiting:h,className:x,children:y,dimension:g="height",in:f=!1,timeout:j=300,mountOnEnter:N=!1,unmountOnExit:b=!1,appear:k=!1,getDimensionValue:A=p,..._}=e;const E="function"===typeof g?g():g,w=(0,i.useMemo)((()=>r((e=>{e.style[E]="0"}),n)),[E,n]),C=(0,i.useMemo)((()=>r((e=>{const a=`scroll${E[0].toUpperCase()}${E.slice(1)}`;e.style[E]=`${e[a]}px`}),s)),[E,s]),I=(0,i.useMemo)((()=>r((e=>{e.style[E]=null}),l)),[E,l]),O=(0,i.useMemo)((()=>r((e=>{e.style[E]=`${A(E,e)}px`,(0,d.A)(e)}),o)),[o,A,E]),S=(0,i.useMemo)((()=>r((e=>{e.style[E]=null}),h)),[E,h]);return(0,u.jsx)(m.A,{ref:a,addEndListener:c.A,..._,"aria-expanded":_.role?f:null,onEnter:w,onEntering:C,onEntered:I,onExit:O,onExiting:S,childRef:y.ref,in:f,timeout:j,mountOnEnter:N,unmountOnExit:b,appear:k,children:(e,a)=>i.cloneElement(y,{...a,className:t()(x,y.props.className,v[e],"width"===E&&"collapse-horizontal")})})}))}}]);
//# sourceMappingURL=8782.987391db.chunk.js.map