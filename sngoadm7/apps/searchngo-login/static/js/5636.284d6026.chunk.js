"use strict";(self.webpackChunkserachngo=self.webpackChunkserachngo||[]).push([[5636],{5636:(e,s,l)=>{l.r(s),l.d(s,{default:()=>P});var a=l(5043),i=l(1072),o=l(8602),d=l(8628),c=l(4621),t=l(5328),r=l(4282),n=l(5284),m=l(3104),v=l(5724),h=l(9628),u=l(9456),p=l(9076),x=(l(5989),l(8786)),j=l(3919),g=l(3727),_=l(9062),N=l(615),b=l(5475),f=l(579);const S=function(e){let{data:s,handleStatus:l,assignPOSDeviceCodeId:a}=e;const i=[{name:"Device Name",selector:e=>[e.device_name],sortable:!0,cell:e=>(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,f.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_name?e.device_name:"-"})})})},{name:"Device Model",selector:e=>[e.device_model],sortable:!0,cell:e=>(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,f.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_model?e.device_model:"-"})})})},{name:"Device Mac Address",selector:e=>[e.device_mac_address],sortable:!0,cell:e=>(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,f.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.device_mac_address?e.device_mac_address:"-"})})})},{name:"Pos Device Code",selector:e=>[e.pos_device_code],sortable:!0,cell:e=>(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)("div",{className:"ms-2 mt-0 mt-sm-2 d-block",children:(0,f.jsx)("h6",{className:"mb-0 fs-14 fw-semibold",children:e.pos_device_code?e.pos_device_code:"-"})})})},{name:"Is Used",selector:e=>[e.is_used],sortable:!0,cell:e=>(0,f.jsx)("span",{className:`text-${"0"===e.is_used.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,g.Cm)(e.is_used.toString())})},{name:"STATUS",selector:e=>[e.status],sortable:!0,cell:e=>(0,f.jsx)("span",{className:`text-${"1"===e.status.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,g.dq)(e.status.toString())})},{name:"ACTION",selector:e=>[e.action],sortable:!0,cell:e=>(0,f.jsx)("span",{className:"",children:(0,f.jsx)(_.A,{placement:"top",overlay:(0,f.jsx)(N.A,{children:"Attach"}),children:(0,f.jsx)(b.N_,{onClick:()=>a(e),to:"#",className:"btn btn-dark btn-sm rounded-11 me-2 my-1",children:(0,f.jsx)("i",{children:(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map-pin",children:[(0,f.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,f.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})})})})})}],o={columns:i,data:s};return(0,f.jsx)(j.A,{...o,children:(0,f.jsx)(x.Ay,{columns:i,data:s,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})})};var A=l(9165),C=l(4858);const y=function(e){let{data:s,handleUnAssignStatus:l}=e;const a=[{name:"POS DEVICE CODE",selector:e=>[e.pos_device_code.pos_device_code],sortable:!0,cell:e=>(0,f.jsx)("span",{className:"text-muted fs-15 fw-semibold",children:e.pos_device_code.pos_device_code})},{name:"CREATED AT",selector:e=>[e.pos_device_code.createdAt],sortable:!0,cell:e=>(0,f.jsx)("span",{className:"text-muted fs-15 fw-semibold",children:e.pos_device_code.createdAt})},{name:"POS DEVICE CODE STATUS",selector:e=>[e.pos_device_code.status],sortable:!0,cell:e=>(0,f.jsx)("span",{className:`text-${"1"===e.pos_device_code.status.toString()?"green":"red"} fs-15 fw-semibold`,children:(0,g.dq)(e.pos_device_code.status.toString())})},{name:"ASSIGNED STATUS",selector:e=>[e.status],sortable:!0,cell:e=>(0,f.jsxs)("label",{className:"custom-switch",children:[(0,f.jsx)("input",{type:"checkbox",className:"custom-switch-input",id:"status",checked:Number(e.status)>=1,onChange:s=>l(e,s.target.checked)}),(0,f.jsx)("span",{className:"custom-switch-indicator"})]})}],i={columns:a,data:s};return(0,f.jsx)(j.A,{...i,children:(0,f.jsx)(x.Ay,{columns:a,data:s,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})})};function P(){const[e,s]=(0,a.useState)([]),[l,x]=(0,a.useState)([]),j=(0,u.d4)((e=>null===e||void 0===e?void 0:e.common)),g=(0,m.A)(),[_,N]=(0,a.useState)(!1),[b,P]=(0,a.useState)(""),[O,T]=(0,a.useState)(""),[I,w]=(0,a.useState)(!1),[D,k]=(0,a.useState)(""),[R,G]=(0,a.useState)(""),[H,$]=(0,a.useState)([]),[M,E]=(0,a.useState)(""),[B,F]=(0,a.useState)(""),[L,q]=(0,a.useState)([]),[U,z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{var e;null!==j&&void 0!==j&&null!==(e=j.role)&&void 0!==e&&e.length&&V()}),[null===j||void 0===j?void 0:j.role]);const{handleSubmit:W}=(0,C.mN)({defaultValues:{},shouldUnregister:!0,mode:"onChange"}),K=(0,u.wA)(),V=async()=>{const{data:e,error:l}=await g.get(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos-device-code`);if(e){s(e.data.list);let l=[];for(let s=0;s<(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.list)||void 0===i?void 0:i.length);s++){var a,i,o,d,c,t;let r={value:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(d=o.list[s])||void 0===d?void 0:d.pos_device_code,label:null===e||void 0===e||null===(c=e.data)||void 0===c||null===(t=c.list[s])||void 0===t?void 0:t.device_name};l.push(r)}$(l)}else h.oR.error(l,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})},J=()=>{N(!1),z(!1),w(!1)},Q=(e,s)=>{q({...L,[e]:s})},X=async()=>{if(D){const{data:e,error:s}=await g.get(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos/assigned-device-code-by-pos?status=1&pos_id=${D}`);e&&null!==e&&void 0!==e&&e.data?(x(e.data.list),h.oR.success(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:null===e||void 0===e?void 0:e.messages,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"})):(x([]),h.oR.error(s,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}))}},Y=e=>{k(e.value)};return(0,f.jsxs)("div",{children:[(0,f.jsx)(i.A,{children:(0,f.jsx)(o.A,{sm:12,className:"col-12",children:(0,f.jsxs)(d.A,{className:"mt-5",children:[(0,f.jsx)(d.A.Header,{className:"d-flex align-items-center justify-content-between",children:(0,f.jsx)("h3",{className:"card-title mb-0",children:"Attach Device To POS"})}),(0,f.jsx)(d.A.Body,{children:(0,f.jsx)("div",{className:"panel panel-primary",children:(0,f.jsx)("div",{className:" tab-menu-heading border",children:(0,f.jsx)("div",{className:"tabs-menu1 tabstyle2",children:(0,f.jsxs)(c.A,{className:" panel-tabs ",variant:"pills",defaultActiveKey:"ActivePosDeviceList",children:[(0,f.jsx)(t.A,{eventKey:"ActivePosDeviceList",className:"me-1 ",title:"Active List",children:(0,f.jsx)("div",{className:"salesdatatable",children:(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsx)(S,{data:e,handleStatus:(e,s)=>(async e=>{var s;const l={pos_device_code:e.pos_device_code};let a;var i,o,d;a=await g.post(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos-device-code/deactivation`,l),null!==(s=a)&&void 0!==s&&s.data&&(h.oR.success(null!==(i=a)&&void 0!==i&&i.data.message?null===(o=a)||void 0===o?void 0:o.data.message:null===(d=a)||void 0===d?void 0:d.data.messages,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),V())})(e),assignPOSDeviceCodeId:e=>(e=>{w(!0),G(e.pos_device_code)})(e)})})})}),(0,f.jsx)(t.A,{eventKey:"DeactivatePosDeviceList",className:"me-1",title:"Deactivated List",children:(0,f.jsxs)("div",{className:"salesdatatable",children:[(0,f.jsxs)("div",{className:"form-group",style:{minWidth:"200px",maxWidth:"500px"},children:[(0,f.jsx)("label",{className:"form-label",children:"Select POS "}),(0,f.jsxs)("div",{className:"form-group d-flex px-0 align-items-start",style:{minWidth:"200px"},children:[(0,f.jsx)(A.Ay,{id:"post_ids",className:"w-65",placeholder:"Select POS",onChange:e=>Y(e),singleSelect:"true",options:null===j||void 0===j?void 0:j.posList,isMulti:!1,required:!0}),(0,f.jsx)(r.A,{className:"btn btn-gray-dark ms-3",variant:"default",onClick:()=>{X()},children:"Get List "})]})]}),(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsx)(y,{data:l,handleUnAssignStatus:e=>(async e=>{const{data:s}=await g.post(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos/unassign-device-from-pos`,{assign_id:e.assigned_id});s&&(h.oR.success(null!==s&&void 0!==s&&s.message?null===s||void 0===s?void 0:s.message:null===s||void 0===s?void 0:s.messages,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),X())})(e)})})]})})]})})})})})]})})}),j.CampModal&&(0,f.jsxs)(n.A,{size:"xl",show:j.CampModal,children:[(0,f.jsxs)(n.A.Header,{children:[(0,f.jsx)("div",{className:"modal-title h4 mb-0",children:"Assign Camps"}),(0,f.jsx)(r.A,{onClick:()=>{K({type:"ASSIGNCAMP",payload:!1})},className:"btn-close",variant:"",children:(0,f.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,f.jsx)(n.A.Body,{className:"p-5",children:(0,f.jsx)("div",{className:"mb-6",children:(0,f.jsxs)(i.A,{className:"mb-2",children:[(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"POS Device Code"}),(0,f.jsx)(A.Ay,{id:"client_ids",placeholder:"Select POS",onChange:e=>{T(e.value)},singleSelect:"true",options:H,isMulti:!1,required:!0})]}),(0,f.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"Camps"}),(0,f.jsx)(A.Ay,{id:"client_ids",placeholder:"Select Camps",onChange:e=>(e=>{if(e.length>1){let s=e.map((e=>e.value)).join(",");P(s)}else 1===e.length?P(e[0].value):P("")})(e),singleSelect:"true",options:null===j||void 0===j?void 0:j.campsList,isMulti:!0,required:!0})]})]})})}),(0,f.jsxs)(n.A.Footer,{children:[(0,f.jsx)(r.A,{type:"button",variant:"secondary",onClick:()=>{K({type:"ASSIGNCAMP",payload:!1})},children:"Close"}),(0,f.jsx)(r.A,{type:"submit",variant:"primary",onClick:async()=>{let e={};e.pos_device_code=O,e.camp_ids=b;const{data:s,error:l}=await g.post(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos-device-code/assign-camps`,e);var a,i;s?(J(),h.oR.success(s.message?s.message:s.messages,{position:null===(a=h.oR.PackageITION)||void 0===a?void 0:a.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})):h.oR.error(l,{position:null===(i=h.oR.PackageITION)||void 0===i?void 0:i.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"})},children:"Save"})]})]}),I&&(0,f.jsx)(n.A,{size:"md",show:I,centered:"modal-dialog-centered",children:(0,f.jsxs)("form",{id:"form",onSubmit:W((async()=>{if(R&&D){const{data:e}=await g.post(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos-device-code/assign-pos`,{pos_device_codes:R,pos_id:D});e&&(h.oR.success(null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:null===e||void 0===e?void 0:e.messages,{position:h.oR.POSITION.TOP_RIGHT,hideProgressBar:!1,autoClose:2e3,theme:"colored"}),V())}w(!1)})),validate:"true",children:[(0,f.jsxs)(n.A.Header,{children:[(0,f.jsx)("div",{className:"modal-title h4 mb-0",children:"Assign POS"}),(0,f.jsx)(r.A,{onClick:J,className:"btn-close",variant:"",children:(0,f.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,f.jsx)(n.A.Body,{className:"p-5",children:(0,f.jsx)("div",{className:"mb-6",children:(0,f.jsx)(i.A,{className:"mb-2",children:(0,f.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 form-group",children:[(0,f.jsx)("label",{className:"form-label",children:"Select POS "}),(0,f.jsx)(A.Ay,{id:"client_ids",placeholder:"Select POS",onChange:e=>Y(e),singleSelect:"true",options:null===j||void 0===j?void 0:j.posList,isMulti:!1,required:!0})]})})})}),(0,f.jsxs)(n.A.Footer,{children:[(0,f.jsx)(r.A,{type:"button",variant:"secondary",onClick:J,children:"Close"}),(0,f.jsx)(r.A,{type:"submit",variant:"primary",children:"Save"})]})]})}),U&&(0,f.jsx)(n.A,{size:"xl",show:U,children:(0,f.jsxs)("form",{id:"form",onSubmit:W((async()=>{let e={...L};const{data:s}=await g.post(`${v.pc}/api/${p.G_[null===j||void 0===j?void 0:j.role]}/pos-device-code/activation`,e);s&&(h.oR.success(s.message?s.message:s.messages,{position:h.oR.POSITION.TOP_RIGHT,hideProgrefalser:!1,autoClose:2e3,theme:"colored"}),z(!1),V())})),validate:"true",children:[(0,f.jsxs)(n.A.Header,{children:[(0,f.jsx)("div",{className:"modal-title h4 mb-0",children:"POS Device Code Active"}),(0,f.jsx)(r.A,{onClick:J,className:"btn-close",variant:"",children:(0,f.jsx)("i",{className:"fa fa-times fs-6"})})]}),(0,f.jsxs)(n.A.Body,{className:"p-5",children:[(0,f.jsx)("h4",{className:"d-flex",children:"POS Device Code Information"}),(0,f.jsx)("div",{className:"mb-6",children:(0,f.jsxs)(i.A,{className:"mb-6",children:[(0,f.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"pos_device_code",className:"form-label",children:"Pos Device Code"}),(0,f.jsx)("input",{className:"form-control",type:"text",id:"pos_device_code",placeholder:"Enter POS Device Code",name:"pos_device_code",onChange:e=>Q("pos_device_code",e.target.value),required:!0})]}),(0,f.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"device_name",className:"form-label",children:"Device Name"}),(0,f.jsx)("input",{className:"form-control",type:"text",id:"device_name",placeholder:"Enter Device Name",name:"device_name",onChange:e=>Q("device_name",e.target.value),required:!0})]}),(0,f.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"device_model",className:"form-label",children:"Device Model"}),(0,f.jsx)("input",{className:"form-control",type:"text",id:"device_model",placeholder:"Enter Device Model",name:"device_model",onChange:e=>Q("device_model",e.target.value),required:!0})]}),(0,f.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 form-group",children:[(0,f.jsx)("label",{htmlFor:"device_mac_address",className:"form-label",children:"Device Mac Address"}),(0,f.jsx)("input",{className:"form-control",type:"text",id:"device_mac_address",placeholder:"Enter Device Mac Address",name:"device_mac_address",onChange:e=>Q("device_mac_address",e.target.value),required:!0})]})]})})]}),(0,f.jsxs)(n.A.Footer,{children:[(0,f.jsx)(r.A,{type:"button",variant:"secondary",onClick:J,children:"Close"}),(0,f.jsx)(r.A,{type:"submit",variant:"primary",children:"Save"})]})]})})]})}}}]);
//# sourceMappingURL=5636.284d6026.chunk.js.map